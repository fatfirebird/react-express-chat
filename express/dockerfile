# образ ноды
FROM node:15.5.1-alpine3.10

# создаем и устанавливаем рабочую директорию
WORKDIR /usr/src/app
# копируем файлы из локального окружения
COPY . /usr/src/app

# устанавлвиаем переменные окружения
ENV PORT=PORT
# устанавливаем зависимости
RUN yarn 

# декларируем порт
EXPOSE 8080
# задаем команду при запуске контейнера
ENTRYPOINT ["node", "app.js"]